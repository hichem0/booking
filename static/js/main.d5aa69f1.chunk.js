(this.webpackJsonpsncf=this.webpackJsonpsncf||[]).push([[0],{104:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),o=(a(82),a(22)),s=a(31),i=a(39),u=a(10),m=a.n(u),p=a(24),h=a(25),d=a(28),f=a(27),g=a(26),v=a(29),b=a(144),E=a(148),j=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={price:40},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement(E.a,null,r.a.createElement("p",null," Departure : ",this.props.departure),r.a.createElement("p",null," Arrival : ",this.props.arrival),r.a.createElement("p",null," Price : ",this.props.promo?this.state.price/2:this.state.price))))}}]),t}(r.a.Component),O=a(87);function k(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(O("https://ressources.data.sncf.com/api/records/1.0/search/?dataset=referentiel-gares-voyageurs&q=".concat(e)).catch((function(e){return console.log(e)})));case 2:return t=n.sent,n.next=5,m.a.awrap(t.json().catch((function(e){console.log(e)})));case 5:return a=n.sent,n.abrupt("return",a.records.map((function(e){return e.fields.gare_ut_libelle})));case 7:case"end":return n.stop()}}))}var y=a(153),S=a(154),w=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={departureStation:"",arrivalStation:"",resDeparture:[],resArrival:[]},a.generateTicket=a.generateTicket.bind(Object(g.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"onChangeInputDeparture",value:function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(k(e.target.value));case 2:if(a.t0=a.sent,a.t0){a.next=5;break}a.t0=[];case 5:return t=a.t0,a.next=8,m.a.awrap(this.setState({resDeparture:t}));case 8:case"end":return a.stop()}}),null,this)}},{key:"onChangeInputDArrival",value:function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(k(e.target.value));case 2:if(a.t0=a.sent,a.t0){a.next=5;break}a.t0=[];case 5:return t=a.t0,a.next=8,m.a.awrap(this.setState({resArrival:t}));case 8:case"end":return a.stop()}}),null,this)}},{key:"generateTicket",value:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.awrap(this.props.setStations(this.state.departureStation,this.state.arrivalStation));case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(S.a,{onChange:function(t,a){return e.setState({departureStation:a})},id:"departure",options:this.state.resDeparture,style:{width:300},renderInput:function(t){return r.a.createElement(y.a,Object.assign({onChange:e.onChangeInputDeparture.bind(e)},t,{label:"Departure",variant:"outlined",fullWidth:!0}))}})," ",r.a.createElement(S.a,{onChange:function(t,a){return e.setState({arrivalStation:a})},id:"departure",options:this.state.resArrival,style:{width:300},renderInput:function(t){return r.a.createElement(y.a,Object.assign({onChange:e.onChangeInputDArrival.bind(e)},t,{label:"Arrival",variant:"outlined",fullWidth:!0}))}}),r.a.createElement("button",{onClick:this.generateTicket},"Get ticket"))}}]),t}(r.a.Component),C=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={departure:"",arrival:""},a.setStations=a.setStations.bind(Object(g.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"setStations",value:function(e,t){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:this.setState({departure:e,arrival:t});case 1:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){return this.props.isLog?r.a.createElement("div",null,r.a.createElement(w,{setStations:this.setStations}),this.state.departure&&this.state.arrival&&r.a.createElement(j,{departure:this.state.departure,arrival:this.state.arrival,promo:this.props.promo}),r.a.createElement("h2",null,"Discount"),this.props.promo?r.a.createElement("p",null,"Discount enabled"):r.a.createElement("p",null,"No Discount")):r.a.createElement("div",{id:"notfound"},r.a.createElement("div",{className:"notfound"},r.a.createElement("div",{className:"notfound-404"},r.a.createElement("h1",null,"sorry")),r.a.createElement("p",null,"Sorry but the page you are looking for you need to log before"),r.a.createElement("a",{href:"/"},"Go To Homepage")))}}]),t}(r.a.Component),N=a(150),x=a(155),L=a(151),D=a(152),I=a(156),P=a(64),A=a.n(P),T=Object(N.a)((function(e){return Object(x.a)({container:{display:"flex",flexWrap:"wrap",width:400,margin:"".concat(e.spacing(0)," auto")},loginBtn:{marginTop:e.spacing(2),flexGrow:1},header:{textAlign:"center",background:"#212121",color:"#fff"},card:{marginTop:e.spacing(10)}})}));function F(e){var t=T(),a=Object(n.useState)(""),c=Object(o.a)(a,2),l=c[0],s=c[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),p=u[0],h=u[1],d=Object(n.useState)(!0),f=Object(o.a)(d,2),g=f[0],v=f[1],j=Object(n.useState)(""),O=Object(o.a)(j,2),k=O[0],S=O[1],w=Object(n.useState)(!1),C=Object(o.a)(w,2),N=C[0];C[1];Object(n.useEffect)((function(){l.trim()&&p.trim()?v(!1):v(!0)}),[l,p]);var x=function(){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=!1,a.prev=1,a.next=4,m.a.awrap(A.a.post("https://reqres.in/api/login",{email:l,password:p},{headers:{"Content-Type":"application/json"}}));case 4:200===a.sent.status&&(t=!0,S("correct username or password")),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(1),t=!1,localStorage.setItem("logged","false"),S("Incorrect username or password");case 13:t&&e.setLog(t);case 15:case"end":return a.stop()}}),null,null,[[1,8]])},P=function(e){13!==e.keyCode&&13!==e.which||g||x()};return e.isLog?r.a.createElement("div",{id:"notfound"},r.a.createElement("div",{className:"notfound"},r.a.createElement("div",{className:"notfound-404"},r.a.createElement("h1",null,":)")),r.a.createElement("p",null,"You are Already logged"),r.a.createElement("a",{href:"/"},"Go To Homepage"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(b.a,{className:t.card},r.a.createElement(I.a,{className:t.header,title:"Login App"}),r.a.createElement(E.a,null,r.a.createElement("div",null,r.a.createElement(y.a,{error:N,fullWidth:!0,id:"username",type:"email",label:"Username",placeholder:"Username",margin:"normal",onChange:function(e){return s(e.target.value)},onKeyPress:function(e){return P(e)}}),r.a.createElement(y.a,{error:N,fullWidth:!0,id:"password",type:"password",label:"Password",placeholder:"Password",margin:"normal",helperText:k,onChange:function(e){return h(e.target.value)},onKeyPress:function(e){return P(e)}}))),r.a.createElement(L.a,null,r.a.createElement(D.a,{variant:"contained",size:"large",color:"secondary",className:t.loginBtn,onClick:function(){return x()},disabled:g},"Login")))))}a(104);var G=a(105),W=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).onChangePromo=a.onChangePromo.bind(Object(g.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"onChangePromo",value:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(this.props.setPromo(e.target.checked));case 2:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return this.props.isLog?r.a.createElement("div",null,r.a.createElement("p",{style:{color:"blue"}},"First Name: ",this.props.firstName),r.a.createElement("p",{className:"makeRed"},"Last Name: ",this.props.lastName),r.a.createElement("p",{id:"email",className:"makeGreen"},"Email: ",this.props.email),r.a.createElement("img",{src:"https://www.gravatar.com/avatar/"+G(this.props.email)}),r.a.createElement("br",null),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.props.promo,id:"defaultCheck1",onChange:this.onChangePromo}),r.a.createElement("label",{className:"form-check-label",htmlFor:"defaultCheck1"},"Discount"))):r.a.createElement("div",{id:"notfound"},r.a.createElement("div",{className:"notfound"},r.a.createElement("div",{className:"notfound-404"},r.a.createElement("h1",null,"sorry")),r.a.createElement("p",null,"Sorry but the page you are looking for you need to log before"),r.a.createElement("a",{href:"/"},"Go To Homepage")))}}]),t}(r.a.Component);W.defaultProps={firstName:"Hichem",lastName:"Bedjaoui",email:"hichembedjaoui4@gmail.com"},l.a.render(r.a.createElement((function(){var e=!1;"true"===localStorage.getItem("isLog")&&(e=!0);var t=Object(n.useState)(e),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(document.cookie.split(";").some((function(e){return e.trim().startsWith("reduc=")}))),m=Object(o.a)(u,2),p=m[0],h=m[1];return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",null,r.a.createElement(i.b,{to:"/",className:"nav-link"}," Login ")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/UserCard",className:"nav-link"}," UserCard ")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/SearchSNCF",className:"nav-link"},"SearchSNCF")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/",className:"nav-link",onClick:function(){if("true"===localStorage.getItem("isLog"))return localStorage.setItem("isLog","false"),window.location.reload(),r.a.createElement(s.a,{to:"/"})}}," Logout ")))),r.a.createElement("hr",null),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(F,{isLog:c,setLog:function(e){l(e),localStorage.setItem("isLog",String(e))}})),r.a.createElement(s.b,{exact:!0,path:"/UserCard"}," ",r.a.createElement(W,{promo:p,setPromo:h,isLog:c})," "),r.a.createElement(s.b,{exact:!0,path:"/SearchSNCF"},r.a.createElement(C,{promo:p,isLog:c})," "))))}),null),document.getElementById("App"))},77:function(e,t,a){e.exports=a(108)}},[[77,1,2]]]);
//# sourceMappingURL=main.d5aa69f1.chunk.js.map